2026-02-17 16:58:49,924 - INFO - root - Logging configured. Level: DEBUG, File: logs/scrollarr.log
Checking for database migrations...
Running alembic upgrade head...
2026-02-17 16:58:49,940 - INFO - alembic.runtime.migration - Context impl SQLiteImpl.
2026-02-17 16:58:49,941 - INFO - alembic.runtime.migration - Will assume non-transactional DDL.
2026-02-17 16:58:49,965 - INFO - alembic.runtime.migration - Running upgrade  -> 5a15aa3bb629, Initial migration
2026-02-17 16:58:49,976 - DEBUG - alembic.runtime.migration - new branch insert 5a15aa3bb629
2026-02-17 16:58:49,981 - INFO - alembic.runtime.migration - Running upgrade 5a15aa3bb629 -> 4ed83310b437, add_download_history
2026-02-17 16:58:49,986 - DEBUG - alembic.runtime.migration - update 5a15aa3bb629 to 4ed83310b437
2026-02-17 16:58:49,990 - INFO - alembic.runtime.migration - Running upgrade 4ed83310b437 -> 0356439e54ae, Add rich metadata fields
2026-02-17 16:58:50,004 - DEBUG - alembic.runtime.migration - update 4ed83310b437 to 0356439e54ae
2026-02-17 16:58:50,007 - INFO - alembic.runtime.migration - Running upgrade 0356439e54ae -> 20260216_add_source_config, Add source config
2026-02-17 16:58:50,011 - DEBUG - alembic.runtime.migration - update 0356439e54ae to 20260216_add_source_config
2026-02-17 16:58:50,014 - INFO - alembic.runtime.migration - Running upgrade 20260216_add_source_config -> 801449fbce51, Ensure stories columns exist
2026-02-17 16:58:50,015 - DEBUG - alembic.runtime.migration - update 20260216_add_source_config to 801449fbce51
2026-02-17 16:58:50,019 - INFO - alembic.runtime.migration - Running upgrade 801449fbce51 -> 9a8b7c6d5e4f, Add ebook profiles
2026-02-17 16:58:50,041 - DEBUG - alembic.runtime.migration - update 801449fbce51 to 9a8b7c6d5e4f
2026-02-17 16:58:50,045 - INFO - alembic.runtime.migration - Running upgrade 9a8b7c6d5e4f -> c109d92524fd, Repair download_history table
2026-02-17 16:58:50,046 - DEBUG - alembic.runtime.migration - update 9a8b7c6d5e4f to c109d92524fd
2026-02-17 16:58:50,049 - INFO - alembic.runtime.migration - Running upgrade c109d92524fd -> a1b2c3d4e5f6, Add notification settings
2026-02-17 16:58:50,052 - DEBUG - alembic.runtime.migration - update c109d92524fd to a1b2c3d4e5f6
2026-02-17 16:58:50,055 - INFO - alembic.runtime.migration - Running upgrade a1b2c3d4e5f6 -> 8e02ca194f50, add_published_date_to_chapters
2026-02-17 16:58:50,058 - DEBUG - alembic.runtime.migration - update a1b2c3d4e5f6 to 8e02ca194f50
2026-02-17 16:58:50,061 - INFO - alembic.runtime.migration - Running upgrade 8e02ca194f50 -> 202602181200, add_pdf_page_size
2026-02-17 16:58:50,064 - DEBUG - alembic.runtime.migration - update 8e02ca194f50 to 202602181200
2026-02-17 16:58:50,067 - INFO - alembic.runtime.migration - Running upgrade 202602181200 -> 20260219_add_qq_source, Add Questionable Questing source
2026-02-17 16:58:50,068 - DEBUG - alembic.runtime.migration - update 202602181200 to 20260219_add_qq_source
2026-02-17 16:58:50,071 - INFO - alembic.runtime.migration - Running upgrade 20260219_add_qq_source -> 20260220_add_vol_provider, Add volume_title and provider_name
2026-02-17 16:58:50,077 - DEBUG - alembic.runtime.migration - update 20260219_add_qq_source to 20260220_add_vol_provider
2026-02-17 16:58:50,080 - INFO - alembic.runtime.migration - Running upgrade 20260220_add_vol_provider -> 20260220_add_qq_all, Add Questionable Questing (All Posts) source record
2026-02-17 16:58:50,081 - DEBUG - alembic.runtime.migration - update 20260220_add_vol_provider to 20260220_add_qq_all
2026-02-17 16:58:50,084 - INFO - alembic.runtime.migration - Running upgrade 20260220_add_qq_all -> 20260221_add_notify, Add notify_on_new_chapter to stories
2026-02-17 16:58:50,088 - DEBUG - alembic.runtime.migration - update 20260220_add_qq_all to 20260221_add_notify
Migrations completed.
2026-02-17 16:58:50,113 - INFO - story_manager - Reloaded providers. 4 providers registered.
2026-02-17 16:58:50,114 - INFO - story_manager - StoryManager initialized and providers registered.
2026-02-17 16:58:50,129 - DEBUG - tzlocal - /etc/timezone found, contents:
 Etc/UTC

2026-02-17 16:58:50,131 - DEBUG - tzlocal - /etc/localtime found
2026-02-17 16:58:50,135 - DEBUG - tzlocal - 2 found:
 {'/etc/timezone': 'Etc/UTC', '/etc/localtime is a symlink to': 'Etc/UTC'}
Checking for database migrations...
Running alembic upgrade head...
2026-02-17 16:58:50,138 - INFO - alembic.runtime.migration - Context impl SQLiteImpl.
2026-02-17 16:58:50,138 - INFO - alembic.runtime.migration - Will assume non-transactional DDL.
Migrations completed.
2026-02-17 16:58:50,146 - INFO - story_manager - Reloaded providers. 4 providers registered.
2026-02-17 16:58:50,146 - INFO - story_manager - StoryManager initialized and providers registered.
INFO:     Started server process [3484]
INFO:     Waiting for application startup.
Checking for database migrations...
Running alembic upgrade head...
2026-02-17 16:58:50,223 - INFO - alembic.runtime.migration - Context impl SQLiteImpl.
2026-02-17 16:58:50,223 - INFO - alembic.runtime.migration - Will assume non-transactional DDL.
Migrations completed.
2026-02-17 16:58:50,233 - INFO - apscheduler.scheduler - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-17 16:58:50,233 - INFO - apscheduler.scheduler - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-17 16:58:50,233 - INFO - apscheduler.scheduler - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-17 16:58:50,233 - INFO - job_manager - Jobs updated: check_updates (every 1h), download_queue (every 30.0s), check_metadata (every 12h)
2026-02-17 16:58:50,233 - INFO - job_manager - Scheduled job: JobManager.check_for_updates (trigger: interval[1:00:00], pending)
2026-02-17 16:58:50,233 - INFO - job_manager - Scheduled job: JobManager.process_download_queue (trigger: interval[0:00:30], pending)
2026-02-17 16:58:50,233 - INFO - job_manager - Scheduled job: JobManager.check_missing_metadata (trigger: interval[12:00:00], pending)
2026-02-17 16:58:50,234 - INFO - apscheduler.scheduler - Added job "JobManager.check_for_updates" to job store "default"
2026-02-17 16:58:50,234 - INFO - apscheduler.scheduler - Added job "JobManager.process_download_queue" to job store "default"
2026-02-17 16:58:50,234 - INFO - apscheduler.scheduler - Added job "JobManager.check_missing_metadata" to job store "default"
2026-02-17 16:58:50,234 - INFO - apscheduler.scheduler - Scheduler started
2026-02-17 16:58:50,234 - DEBUG - apscheduler.scheduler - Looking for jobs to run
2026-02-17 16:58:50,235 - DEBUG - apscheduler.scheduler - Next wakeup is due at 2026-02-17 16:59:20.233246+00:00 (in 29.998180 seconds)
2026-02-17 16:58:50,235 - INFO - apscheduler.scheduler - Added job "JobManager.check_missing_metadata" to job store "default"
2026-02-17 16:58:50,236 - INFO - apscheduler.scheduler - Added job "JobManager.check_for_updates" to job store "default"
2026-02-17 16:58:50,236 - INFO - job_manager - JobManager started.
INFO:     Application startup complete.
2026-02-17 16:58:50,236 - DEBUG - apscheduler.scheduler - Looking for jobs to run
2026-02-17 16:58:50,237 - DEBUG - apscheduler.scheduler - Next wakeup is due at 2026-02-17 16:59:00.235278+00:00 (in 9.997749 seconds)
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2026-02-17 16:59:00,235 - DEBUG - apscheduler.scheduler - Looking for jobs to run
2026-02-17 16:59:00,236 - INFO - apscheduler.executors.default - Running job "JobManager.check_missing_metadata (trigger: date[2026-02-17 16:59:00 UTC], next run at: 2026-02-17 16:59:00 UTC)" (scheduled at 2026-02-17 16:59:00.235278+00:00)
2026-02-17 16:59:00,237 - INFO - job_manager - Running scheduled metadata check...
2026-02-17 16:59:00,237 - INFO - story_manager - Checking for stories with missing metadata...
2026-02-17 16:59:00,242 - INFO - apscheduler.scheduler - Removed job check_metadata_startup
2026-02-17 16:59:00,242 - DEBUG - apscheduler.scheduler - Next wakeup is due at 2026-02-17 16:59:10.235994+00:00 (in 9.993534 seconds)
2026-02-17 16:59:00,243 - INFO - story_manager - No stories found with missing metadata.
2026-02-17 16:59:00,243 - INFO - apscheduler.executors.default - Job "JobManager.check_missing_metadata (trigger: date[2026-02-17 16:59:00 UTC], next run at: 2026-02-17 16:59:00 UTC)" executed successfully
2026-02-17 16:59:10,236 - DEBUG - apscheduler.scheduler - Looking for jobs to run
2026-02-17 16:59:10,236 - INFO - apscheduler.scheduler - Removed job check_updates_startup
2026-02-17 16:59:10,236 - DEBUG - apscheduler.scheduler - Next wakeup is due at 2026-02-17 16:59:20.233246+00:00 (in 9.996284 seconds)
2026-02-17 16:59:10,237 - INFO - apscheduler.executors.default - Running job "JobManager.check_for_updates (trigger: date[2026-02-17 16:59:10 UTC], next run at: 2026-02-17 16:59:10 UTC)" (scheduled at 2026-02-17 16:59:10.235994+00:00)
2026-02-17 16:59:10,237 - INFO - job_manager - Checking for updates...
2026-02-17 16:59:10,240 - INFO - apscheduler.executors.default - Job "JobManager.check_for_updates (trigger: date[2026-02-17 16:59:10 UTC], next run at: 2026-02-17 16:59:10 UTC)" executed successfully
2026-02-17 16:59:20,234 - DEBUG - apscheduler.scheduler - Looking for jobs to run
2026-02-17 16:59:20,234 - DEBUG - apscheduler.scheduler - Next wakeup is due at 2026-02-17 16:59:50.233246+00:00 (in 29.998754 seconds)
2026-02-17 16:59:20,234 - INFO - apscheduler.executors.default - Running job "JobManager.process_download_queue (trigger: interval[0:00:30], next run at: 2026-02-17 16:59:50 UTC)" (scheduled at 2026-02-17 16:59:20.233246+00:00)
2026-02-17 16:59:20,235 - INFO - job_manager - Checking download queue for pending chapters...
2026-02-17 16:59:20,247 - DEBUG - job_manager - No pending chapters found.
2026-02-17 16:59:20,248 - INFO - job_manager - Download queue empty or processing stopped.
2026-02-17 16:59:20,248 - INFO - apscheduler.executors.default - Job "JobManager.process_download_queue (trigger: interval[0:00:30], next run at: 2026-02-17 16:59:50 UTC)" executed successfully
INFO:     127.0.0.1:33622 - "GET /settings HTTP/1.1" 200 OK
INFO:     127.0.0.1:33622 - "GET /api/settings HTTP/1.1" 200 OK
INFO:     127.0.0.1:33622 - "GET / HTTP/1.1" 200 OK
INFO:     127.0.0.1:33622 - "GET /api/migration/check HTTP/1.1" 200 OK
INFO:     127.0.0.1:33622 - "GET /api/progress HTTP/1.1" 200 OK
2026-02-17 16:59:50,233 - DEBUG - apscheduler.scheduler - Looking for jobs to run
2026-02-17 16:59:50,234 - DEBUG - apscheduler.scheduler - Next wakeup is due at 2026-02-17 17:00:20.233246+00:00 (in 29.998919 seconds)
2026-02-17 16:59:50,234 - INFO - apscheduler.executors.default - Running job "JobManager.process_download_queue (trigger: interval[0:00:30], next run at: 2026-02-17 17:00:20 UTC)" (scheduled at 2026-02-17 16:59:50.233246+00:00)
2026-02-17 16:59:50,235 - INFO - job_manager - Checking download queue for pending chapters...
2026-02-17 16:59:50,237 - DEBUG - job_manager - No pending chapters found.
2026-02-17 16:59:50,238 - INFO - job_manager - Download queue empty or processing stopped.
2026-02-17 16:59:50,238 - INFO - apscheduler.executors.default - Job "JobManager.process_download_queue (trigger: interval[0:00:30], next run at: 2026-02-17 17:00:20 UTC)" executed successfully
2026-02-17 17:00:20,233 - DEBUG - apscheduler.scheduler - Looking for jobs to run
2026-02-17 17:00:20,234 - DEBUG - apscheduler.scheduler - Next wakeup is due at 2026-02-17 17:00:50.233246+00:00 (in 29.998998 seconds)
2026-02-17 17:00:20,234 - INFO - apscheduler.executors.default - Running job "JobManager.process_download_queue (trigger: interval[0:00:30], next run at: 2026-02-17 17:00:50 UTC)" (scheduled at 2026-02-17 17:00:20.233246+00:00)
2026-02-17 17:00:20,235 - INFO - job_manager - Checking download queue for pending chapters...
2026-02-17 17:00:20,237 - DEBUG - job_manager - No pending chapters found.
2026-02-17 17:00:20,237 - INFO - job_manager - Download queue empty or processing stopped.
2026-02-17 17:00:20,238 - INFO - apscheduler.executors.default - Job "JobManager.process_download_queue (trigger: interval[0:00:30], next run at: 2026-02-17 17:00:50 UTC)" executed successfully
2026-02-17 17:00:50,234 - DEBUG - apscheduler.scheduler - Looking for jobs to run
2026-02-17 17:00:50,235 - DEBUG - apscheduler.scheduler - Next wakeup is due at 2026-02-17 17:01:20.233246+00:00 (in 29.998136 seconds)
2026-02-17 17:00:50,235 - INFO - apscheduler.executors.default - Running job "JobManager.process_download_queue (trigger: interval[0:00:30], next run at: 2026-02-17 17:01:20 UTC)" (scheduled at 2026-02-17 17:00:50.233246+00:00)
2026-02-17 17:00:50,236 - INFO - job_manager - Checking download queue for pending chapters...
2026-02-17 17:00:50,240 - DEBUG - job_manager - No pending chapters found.
2026-02-17 17:00:50,241 - INFO - job_manager - Download queue empty or processing stopped.
2026-02-17 17:00:50,241 - INFO - apscheduler.executors.default - Job "JobManager.process_download_queue (trigger: interval[0:00:30], next run at: 2026-02-17 17:01:20 UTC)" executed successfully
